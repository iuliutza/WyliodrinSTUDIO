<template>
	<div class="row">
		<div class="col-md-3 sim-box">
			<div class="rpk-sim">
				<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="264px"
					height="252px" viewBox="0 0 264 252" enable-background="new 0 0 264 252" xml:space="preserve">
					<g id="Layer_2">
						<path id="sw3" fill="#234884" d="M6.5,87c3.59,0,6.5-2.91,6.5-6.5v-26c0-3.59-2.91-6.5-6.5-6.5l0,0C2.91,48,0,50.91,0,54.5v26
							C0,84.09,2.91,87,6.5,87L6.5,87z"/>
						<path id="sw2" fill="#234884" d="M257.5,204c3.59,0,6.5-2.91,6.5-6.5v-26c0-3.59-2.91-6.5-6.5-6.5l0,0c-3.59,0-6.5,2.91-6.5,6.5v26
							C251,201.09,253.91,204,257.5,204L257.5,204z"/>
						<path id="sw1" fill="#234884" d="M257.5,87c3.59,0,6.5-2.91,6.5-6.5v-26c0-3.59-2.91-6.5-6.5-6.5l0,0c-3.59,0-6.5,2.91-6.5,6.5v26
							C251,84.09,253.91,87,257.5,87L257.5,87z"/>
						<path id="sw4" fill="#234884" d="M6.5,204c3.59,0,6.5-2.91,6.5-6.5v-26c0-3.59-2.91-6.5-6.5-6.5l0,0c-3.59,0-6.5,2.91-6.5,6.5v26
							C0,201.09,2.91,204,6.5,204L6.5,204z"/>
						<path fill="#3754A5" d="M242,6c6.075,0,11,4.925,11,11c0,0,4-3.999,4,107c0,111-4,111-4,111c0,6.075-4.925,11-11,11c0,0-10,6-115,6
							s-105-6-105-6c-6.075,0-11-4.925-11-11c0,0-4,0-4-109s4-109,4-109c0-6.075,4.925-11,11-11c0,0,0-6,110-6S242,6,242,6z"/>
						<rect x="75" y="66" fill="#0F151E" width="115" height="120"/>
						<polygon fill="#344DA1" points="57,204 57,48 75,66 75,186 	"/>
						<polygon fill="#3856A6" points="208,204 208,48 190,66 190,186 	"/>
						<polygon fill="#2B419A" points="57,48 208,48 190,66 75,66 	"/>
						<polygon fill="#5E92CD" points="57,204 208,204 190,186 75,186 	"/>
						<path id="down_touch" opacity="0" fill="#3754A5" d="M251.197,241.026L208,204H57l-44.119,37.153C14.858,244.077,18.204,246,22,246c0,0,0,6,105,6
							s115-6,115-6C245.849,246,249.231,244.02,251.197,241.026z"/>
						<path id="left_touch" opacity="0" fill="#3754A5" d="M11,17c0,0-4,0-4,109s4,109,4,109c0,2.279,0.693,4.396,1.881,6.153L57,204V48L12.881,10.847
							C11.693,12.603,11,14.721,11,17z"/>
						<path id="up_touch" opacity="0" fill="#3754A5" d="M22,6c-3.796,0-7.142,1.922-9.119,4.847L57,48h151l43.197-37.026C249.231,7.98,245.849,6,242,6
							c0,0,0-6-110-6S22,6,22,6z"/>
						<path id="right_touch" opacity="0" fill="#3754A5" d="M208,204l43.197,37.026c1.137-1.731,1.803-3.8,1.803-6.026c0,0,4,0,4-111
							c0-110.999-4-107-4-107c0-2.226-0.666-4.294-1.803-6.026L208,48V204z"/>
						<circle id="led_color" fill="#000000" cx="62.568" cy="41.383" r="4.91"/>
						<circle id="led_brightness" fill="#000000" cx="351.568" cy="212.383" r="4.91"/>
						<circle fill="#000000" cx="78.432" cy="41.383" r="4.91"/>
						<circle fill="#000000" cx="185.709" cy="41.383" r="4.91"/>
						<circle fill="#000000" cx="201.572" cy="41.383" r="4.91"/>
					</g>
					<g id="Layer_4" display="none">
						<path display="inline" fill="#3754A5" d="M242,6c6.075,0,11,4.925,11,11c0,0,4-3.999,4,107c0,111-4,111-4,111
							c0,6.075-4.925,11-11,11c0,0-10,6-115,6s-105-6-105-6c-6.075,0-11-4.925-11-11c0,0-4,0-4-109s4-109,4-109c0-6.075,4.925-11,11-11
							c0,0,0-6,110-6S242,6,242,6z"/>
					</g>
					<g id="Layer_5" display="none">
						<path display="inline" fill="#3754A5" d="M251.197,241.026L208,204H57l-44.119,37.153C14.858,244.077,18.204,246,22,246
							c0,0,0,6,105,6s115-6,115-6C245.849,246,249.231,244.02,251.197,241.026z"/>
						<path display="inline" fill="#3754A5" d="M11,17c0,0-4,0-4,109s4,109,4,109c0,2.279,0.693,4.396,1.881,6.153L57,204V48
							L12.881,10.847C11.693,12.603,11,14.721,11,17z"/>
						<path display="inline" fill="#3754A5" d="M22,6c-3.796,0-7.142,1.922-9.119,4.847L57,48h151l43.197-37.026
							C249.231,7.98,245.849,6,242,6c0,0,0-6-110-6S22,6,22,6z"/>
						<path display="inline" fill="#3754A5" d="M208,204l43.197,37.026c1.137-1.731,1.803-3.8,1.803-6.026c0,0,4,0,4-111
							c0-110.999-4-107-4-107c0-2.226-0.666-4.294-1.803-6.026L208,48V204z"/>
					</g>
					<g id="Layer_3" display="none">
						<polygon display="inline" fill="#3754A5" points="0,252 57,204 208,204 264,252 	"/>
						<polygon display="inline" fill="#3754A5" points="264,0 208,48 208,204 264,252 	"/>
						<polygon display="inline" fill="#3754A5" points="0,0 57,48 208,48 264,0 	"/>
						<polygon display="inline" fill="#3754A5" points="0,0 57,48 57,204 0,252 	"/>
					</g>
					<g id="Layer_1" display="none">
					</g>
				</svg>

				<canvas id="rpk_display"></canvas>
			</div>

			<audio v-show="false" id="beep" controls>
				<source src="plugins/simulators/rpk/data/audio/beep.ogg" type="audio/ogg">
			</audio>

			<div class="checkm-box">
				<v-checkbox v-model="motion" label="Motion" hide-details></v-checkbox>
				<v-checkbox v-model="freefall" label="Freefall" hide-details></v-checkbox>
			</div>

		</div>


		<div class="col-md-9 row val-container">

			<div class="col-md-6">
				<div class="val-box">
					<span>Gyroscope</span>
					<v-slider v-model="gyroscopeX" thumb-label="always" thumb-size="24" label="X"></v-slider>
					<v-slider v-model="gyroscopeY" thumb-label="always" thumb-size="24" label="Y"></v-slider>
					<v-slider v-model="gyroscopeZ" thumb-label="always" thumb-size="24" label="Z"></v-slider>
				</div>
			</div>
			<div class="col-md-6">
				<div class="val-box">
					<span>Accelometer</span>
					<v-slider v-model="accelometerX" thumb-label="always" thumb-size="24" label="X"></v-slider>
					<v-slider v-model="accelometerY" thumb-label="always" thumb-size="24" label="Y"></v-slider>
					<v-slider v-model="accelometerZ" thumb-label="always" thumb-size="24" label="Z"></v-slider>
				</div>
			</div>

			<div class="col-md-6">
				<div class="val-box2">
					<span>Light</span>
					<div class="pr-3">
						<v-slider v-model="light" :max="lightMax" :min="lightMin" hide-details>
							<template v-slot:append>
								<v-text-field v-model="light" class="mt-0 pt-0" :max="lightMax" :min="lightMin" hide-details single-line type="number" style="width: 60px"></v-text-field>
							</template>
						</v-slider>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="val-box2">
					<span>Air Quality</span>
					<div class="pr-3">
						<v-slider v-model="airQuality" :max="airQualityMax" :min="airQualityMin" hide-details>
							<template v-slot:append>
								<v-text-field v-model="airQuality" class="mt-0 pt-0" :max="airQualityMax" :min="airQualityMin" hide-details single-line type="number" style="width: 60px"></v-text-field>
							</template>
						</v-slider>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="val-box2">
					<span>Pressure</span>
					<div>
						<v-slider v-model="pressure" :max="pressureMax" :min="pressureMin" hide-details>
							<template v-slot:append>
								<v-text-field v-model="pressure" class="mt-0 pt-0"  :max="pressureMax" :min="pressureMin" hide-details single-line type="number" style="width: 60px"></v-text-field>
							</template>
						</v-slider>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="val-box2">
					<span>Temperature</span>
					<div>
						<v-slider v-model="temperature" :max="temperatureMax" :min="temperatureMin" hide-details>
							<template v-slot:append>
								<v-text-field v-model="temperature" class="mt-0 pt-0" :max="temperatureMax" :min="temperatureMin" hide-details single-line type="number" style="width: 60px"></v-text-field>
							</template>
						</v-slider>
					</div>
				</div>
			</div>
		</div>
	</div>
</template>

<script>
import  generic_rpk from './../libraries/generic_rpk.js';

export default {
	name: 'RPKSimulator',

	data() {
		return {
			light: 0,
			airQuality: 400,
			pressure: 50,
			temperature: -40,

			lightMax: 1024,
			lightMin: 0,
			airQualityMax: 8192,
			airQualityMin: 400,
			pressureMax: 110,
			pressureMin: 50,
			temperatureMax: 85,
			temperatureMin: -40,

			motion: false,
			freefall: false,

			gyroscopeX: 0,
			gyroscopeY: 0,
			gyroscopeZ: 0,

			accelometerX: 0,
			accelometerY: 0,
			accelometerZ: 0
		};
	},

	watch: {
		light: function(value) {
			generic_rpk.light = value;
		},

		airQuality: function(value) {
			generic_rpk.airQuality = value;
		},

		pressure: function(value) {
			generic_rpk.pressure = value;
		},

		temperature: function(value) {
			generic_rpk.temperature = value;
		},

		motion: function(value) {
			if (!this.freefall) {
				generic_rpk.motion = value;
			} else {
				this.motion = true;
			}
		},

		freefall: function(value) {
			generic_rpk.freefall = value;
			generic_rpk.motion = value;
			this.motion = value;
		},

		gyroscopeX: function(value) {
			generic_rpk.gyroscope.x = value;
		},

		gyroscopeY: function(value) {
			generic_rpk.gyroscope.y = value;
		},

		gyroscopeZ: function(value) {
			generic_rpk.gyroscope.z = value;
		},

		accelometerX: function(value) {
			generic_rpk.accelometer.x = value;
		},

		accelometerY: function(value) {
			generic_rpk.accelometer.y = value;
		},

		accelometerZ: function(value) {
			generic_rpk.accelometer.z = value;
		}
	},

	methods: {
		run() {

		},

		stop() {

		}
	}
};
</script>

<style lang="less" scoped>
	@import '../style/devicesim.less';
</style>